window.tribe=window.tribe||{},tribe.events=tribe.events||{},tribe.events.views=tribe.events.views||{},tribe.events.virtualAdmin=tribe.events.virtualAdmin||{},tribe.events.virtualAdminZoom=tribe.events.virtualAdminZoom||{},function(e,t,i){var n=e(document);t.selectors={displayLinkOption:"#tribe-events-virtual-meetings-zoom-display-details",embedVideoOption:"#tribe-events-virtual-embed-video",hidden:".tribe-events-virtual-hidden",linkedButtonOption:"#tribe-events-virtual-linked-button",meetingCreate:".tribe-events-virtual-meetings-zoom__create-link",meetingDetails:".tribe-events-virtual-meetings-zoom-details",meetingDetailsFloat:".tribe-events-virtual-meetings-zoom-details--float",meetingRemove:".tribe-events-virtual-meetings-zoom__remove-link",remove:".tribe-remove-virtual-event",urlField:".tribe-events-virtual-video-source__virtual-url-input",virtualContainer:"#tribe-virtual-events",zoomMeetingsContainer:"#tribe-events-virtual-meetings-zoom"},t.originalState={linkedButtonOption:{checked:e(t.selectors.linkedButtonOption).prop("checked")}},t.state={urlField:{value:""}},t.handleMeetingRequest=function(i){i.preventDefault();var n=e(i.target).attr("href");e.ajax(n,{contentType:"application/json",context:e(t.selectors.zoomMeetingsContainer),success:t.onMeetingHandlingSuccess})},t.onMeetingHandlingSuccess=function(n){e(t.selectors.zoomMeetingsContainer).replaceWith(n),t.setupControls(),t.checkButtons(),t.handleMeetingDetailsClasses(),t.initMultipleControlsAccordion(),i.handleShowOptionInteractivity&&"function"==typeof i.handleShowOptionInteractivity&&i.handleShowOptionInteractivity()},t.handleMeetingDetailsClasses=function(){var i=e(t.selectors.meetingDetails);if(i.length){var n=e(t.selectors.urlField);n.parent().width()>=i.outerWidth(!0)+n.outerWidth(!0)?i.addClass(t.selectors.meetingDetailsFloat.className()):i.removeClass(t.selectors.meetingDetailsFloat.className())}},t.handleLinkedMetaRemove=function(){e(t.selectors.meetingRemove).click()},t.bindEvents=function(){e(t.selectors.virtualContainer).on("click",t.selectors.meetingCreate,t.handleMeetingRequest).on("click",t.selectors.remove,t.handleLinkedMetaRemove).on("click",t.selectors.meetingRemove,t.handleMeetingRequest),e(window).on("resize",t.handleMeetingDetailsClasses)},t.checkButtons=function(){var i=e(t.selectors.displayLinkOption);e(t.selectors.linkedButtonOption).prop("checked",!0),i.prop("checked",!0)},t.setupControls=function(){var i=e(t.selectors.urlField),n=e(t.selectors.embedVideoOption).closest("li"),s=e(t.selectors.displayLinkOption).closest("li"),o=e(t.selectors.linkedButtonOption);e(t.selectors.meetingDetails).length?(i.prop({disabled:!0}).attr("placeholder",tribe_events_virtual_placeholder_strings.zoom),n.addClass(t.selectors.hidden.className()),s.removeClass(t.selectors.hidden.className()),t.state.urlField.value=i.val(),i.val("")):(i.prop({disabled:!1}).attr("placeholder",tribe_events_virtual_placeholder_strings.video),n.removeClass(t.selectors.hidden.className()),s.addClass(t.selectors.hidden.className()),o.prop("checked",t.originalState.linkedButtonOption.checked),i.val(t.state.urlField.value),t.state.urlField.value="")},t.initMultipleControlsAccordion=function(){if(tribe.events.views.accordion){var t=tribe.events.views.accordion,i=e("#tribe-events-virtual-meetings-zoom.tribe-events-virtual-meetings-zoom-controls--multi");t.bindAccordionEvents(i)}},t.ready=function(){t.bindEvents(),t.handleMeetingDetailsClasses(),t.initMultipleControlsAccordion()},n.ready(t.ready)}(jQuery,tribe.events.virtualAdminZoom,tribe.events.virtualAdmin);